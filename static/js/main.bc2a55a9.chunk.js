(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(t,e,n){t.exports=n.p+"static/media/apple-touch-icon.4ec7d8e7.png"},312:function(t,e,n){t.exports=n(620)},313:function(t,e,n){},620:function(t,e,n){"use strict";n.r(e);n(313);var o=n(26),i=n.n(o),a=n(0),d=n.n(a),r=n(42),s=n.n(r),c=n(216),l=n(68),u=n(205),p=n(206),h=n(217),g=n(207),m=n(218),f=n(208),E=n(65),T=n.n(E),w=n(67),v=n.n(w),y=n(64),_=n.n(y),b=n(66),j=n.n(b),k=n(47),D=n.n(k),O=n(209),q=n(210),I=n.n(q),S=n(211),$=n.n(S),B=n(39),C=n(214),x=n.n(C),L=n(213),A=n.n(L),W=n(215),z=n.n(W),P=function(t){var e=t.name,n=t.description,o=t.isTodoBeingEdited,i=t.newDescription,a=t.onFinishEdit,r=t.onStartEdit,s=t.onEditDescription,c=t.onDelete;return d.a.createElement("div",{style:{padding:4}},d.a.createElement(B.d,{direction:"right",in:!0},d.a.createElement(B.a,null,d.a.createElement(B.b,null,d.a.createElement(B.e,{onClick:a,variant:"subheading"},e,d.a.createElement(A.a,{style:{float:"right",padding:4},onClick:r}),d.a.createElement(x.a,{style:{float:"right",padding:4},onClick:c}),o&&d.a.createElement(z.a,{style:{float:"right",padding:4}})),o?d.a.createElement(B.c,{autoFocus:!0,placeholder:"Describe your to do...",onChange:s,onBlur:a,value:i,fullWidth:!0}):d.a.createElement(B.e,{onClick:r},n||"Description goes here...")))))},F=function(t){return o.API.graphql(Object(o.graphqlOperation)("mutation CreateTodo($input: CreateTodoInput!) {\n  createTodo(input: $input) {\n    id\n    name\n    description\n  }\n}\n",{input:{id:I.a.generate(),name:t,description:"N/A"}}))},M=function(t,e){return o.API.graphql(Object(o.graphqlOperation)("mutation UpdateTodo($input: UpdateTodoInput!) {\n  updateTodo(input: $input) {\n    id\n    name\n    description\n  }\n}\n",{input:Object(f.a)({},e,{description:t})}))},J=function(t){return o.API.graphql(Object(o.graphqlOperation)("mutation DeleteTodo($input: DeleteTodoInput!) {\n  deleteTodo(input: $input) {\n    id\n    name\n    description\n  }\n}\n",{input:{id:t.id}}))},K=function(){return o.API.graphql(Object(o.graphqlOperation)("query ListTodos(\n  $filter: ModelTodoFilterInput\n  $limit: Int\n  $nextToken: String\n) {\n  listTodos(filter: $filter, limit: $limit, nextToken: $nextToken) {\n    items {\n      id\n      name\n      description\n    }\n    nextToken\n  }\n}\n")).then(function(t){return t.data.listTodos.items})},U=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(h.a)(this,Object(g.a)(e).call(this,t))).handleInput=function(t){return function(e){n.setState(Object(l.a)({},t,e.target.value))}},n.createTodo=function(){n.finishEdit();var t=n.state.newTodo;t.length>0&&(n.setState({isLoading:!0}),F(t).then(function(t){n.setState(function(e){return{todos:[].concat(Object(c.a)(e.todos),[t.data.createTodo]),newTodo:"",newTodoDescription:"",todoBeingEdited:e.todos.length,isLoading:!1}})}))},n.deleteTodo=function(t){return function(){n.finishEdit();var e=n.state.todos.splice(t,1)[0];n.setState({isLoading:!0}),J(e).then(K).then(function(t){n.setState({todos:t,isLoading:!1})})}},n.editTodo=function(t){return function(){n.finishEdit(),n.setState(function(e){return{todoBeingEdited:t,newTodoDescription:e.todos[t].description}})}},n.finishEdit=function(){var t=n.state,e=t.todoBeingEdited,o=t.todos,i=t.newTodoDescription,a=n.state.todos[e];e>-1&&o.length>0&&a&&(n.setState({isLoading:!0}),M(i,a).then(function(t){o.splice(e,1,t.data.updateTodo),n.setState({todos:o,todoBeingEdited:-1,isLoading:!1})}))},n.state={isLoading:!0,newTodo:"",newTodoDescription:"",todoBeingEdited:-1,todos:[]},n}return Object(m.a)(e,t),Object(p.a)(e,[{key:"componentWillMount",value:function(){var t=this;K().then(function(e){t.setState({todos:e,isLoading:!1})})}},{key:"render",value:function(){var t=this,e=this.props.authData.username;return d.a.createElement("div",null,d.a.createElement(T.a,{color:"default",position:"static"},d.a.createElement(j.a,null,d.a.createElement(D.a,{variant:"title"},"Material To Do "),d.a.createElement("div",{style:{paddingLeft:4}},d.a.createElement("img",{alt:"writing",style:{maxWidth:24},src:$.a})),"\xa0",d.a.createElement(D.a,{variant:"display1",style:{fontSize:14,float:"right"}},e))),d.a.createElement("div",{style:{padding:12}},d.a.createElement(_.a,{placeholder:"Go to the store",onChange:this.handleInput("newTodo"),value:this.state.newTodo,fullWidth:!0})),d.a.createElement("div",{style:{padding:12}},d.a.createElement(v.a,{onClick:this.createTodo,fullWidth:!0,variant:"outlined",color:"primary"},"Create")),d.a.createElement("div",{style:{padding:4}},this.state.todos.map(function(e,n){return d.a.createElement(P,Object.assign({key:n},e,{isTodoBeingEdited:t.state.todoBeingEdited===n,newDescription:t.state.newTodoDescription,onStartEdit:t.editTodo(n),onFinishEdit:t.finishEdit,onEditDescription:t.handleInput("newTodoDescription"),onDelete:t.deleteTodo(n)}))})))}}]),e}(a.Component),G=Object(O.withAuthenticator)(U),N={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:bbad683d-d791-4df7-80d7-4ef017d43e8a",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_wT6d3kjpm",aws_user_pools_web_client_id:"7aoq2svspmdj1tulsr94pa2h2j",aws_appsync_graphqlEndpoint:"https://xbcczlzx2bazrhr23koqxjvvy4.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-664rt737j5gihpir7yqmfu2ypa"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.configure(N),s.a.render(d.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},74:function(t,e){}},[[312,1,2]]]);
//# sourceMappingURL=main.bc2a55a9.chunk.js.map